<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>菜鸟教程(runoob.com)</title>
<script>


const  data = {
    fromplatform:"4",
    lan:"zh",
    appid:"1658891933",
    secretkey:"8874fe35-2e0c-4752-b07d-34f1196a4fac"
};



function requestad(){
fetch('https://www.hpytg.com/requestadapi', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify(data)
})
.then(response => response.json())
.then(data => {
    if(data.status==200){
        var description = document.getElementById('content1234567');
        description.innerText = data.data.description;
    }
})
.catch(error => console.error('Error:', error));
}



function displayDate(){
	document.getElementById("demo").innerHTML=Date();
}
 function closedialog(){
    
console.log("close");
var login = document.getElementById('ad123456poiuy');
var bg = document.getElementById('adbg1234567');
     
                login.style.display="none";
              
                login.remove();
                bg.remove();
                return true;
            }

 var storeurl = ""
    function openStore() {
console.log("openStore");
        if(storeurl==""){
        return;
}  window.open(url, '_blank');
    }

function showad() {
    var screenWidth = window.innerWidth;
    var screenHeight = window.innerHeight;
console.log("screenWidth"+screenWidth );
    function isMobileDevice() {
        const ua = navigator.userAgent || navigator.vendor || window.opera;
        const mobileRegex = /android|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile|windows phone|phone|webos|kindle|tablet/i;
        return mobileRegex.test(ua.toLowerCase());
    }
document.addEventListener('DOMContentLoaded', function() {


     
});

   
  // 执行回调
 // 2.点击"关闭",隐藏登陆窗口和遮盖层
      //      var closeBtn=document.getElementById('closeBtn');
            
     
   
        // 华为应用市场的URL
        // var url = 'https://appgallery.cloud.huawei.com/';
        // 使用window.open打开该URL
      
    //var btn = document.getElementById("btn");
    //btn.onclick = openStore(storeurl);
    var isMobile = isMobileDevice();
    
    var dialogHeight = screenHeight * 0.8;
    var dialogWidth = dialogHeight * 0.5;
    var marginLeft = dialogWidth / 2;
console.log("dialogWidth"+dialogWidth );
console.log("marginleft"+marginLeft );
    var left = "50%";
    //5px边距
    var bottomHieght = 145 + 5;
    var availableHeight = dialogHeight * 0.5 - bottomHieght;
    if (isMobile) {
        dialogWidth = screenWidth * 0.8;
        marginLeft = 0;
        left = "0%";
    }

   // var xhr = new XMLHttpRequest();
   // xhr.open('GET', 'https://api.example.com/data', true);

   // xhr.onreadystatechange = function () {
    //    if (xhr.readyState === 4 && xhr.status === 200) {
     //       var response = JSON.parse(xhr.responseText);
     //       var value = response.key;
    //        console.log(xhr.responseText);
    //    }
 //   };
  //  xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

  //  xhr.setRequestHeader("Access-Control-Allow-Origin", "*");
  //  xhr.send();


    var htmldata =
        `<!-- 登陆框主体 -->
        <div id="ad123456poiuy" class="login" style="border-radius: 10px;
        position: absolute;
        width: ${dialogWidth}px;
        height: ${dialogHeight}px;
        z-index: 9999;
        background-color: white;
        left: ${left};
        margin-left: -${marginLeft}px;">
            <img src="http://gips2.baidu.com/it/u=1674525583,3037683813&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024" style="width:${dialogWidth}px;height:${dialogWidth}px;border-top-left-radius:10px;border-top-right-radius:10px;"/>
            <!-- 登陆框标题 -->
            <div id="login-title" class="login-title">
                
                <span><a id="closeBtn" onclick="closedialog()" href="javascript:void(0)" style="text-decoration: none;
                font-size: 12px;
                color: white;
                border-radius: 20px;
                width: 30px;
                height: 30px;
                background-color: #90fff;
text-align: center;
                position: absolute;
right:0;
top:0;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x">
  <line x1="18" y1="6" x2="6" y2="18"></line>
  <line x1="6" y1="6" x2="18" y2="18"></line>
</svg></a></span>
            </div>
<div class="textcontainer" style="width: ${dialogWidth}px;
height:${availableHeight}px;">
           <p  id="content1234567"  style="word-break:break-all;
           padding-right:5px;
           padding-left:5px;
           color:grey;
           overflow:hidden;
           text-overflow:ellipsis;
           display:-webkit-box;
           font-size:18px;
           line-height:22px;
           -webkit-line-clamp:3;
           line-clamp: 3; 
           -webkit-box-orient:vertical;">111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111</p>
</div>
     <div style="width:${dialogWidth}px;height:135px;bottom:10px;left:10px;right:10px;position:absolute;display:flex;align-items: flex-end;justify-content:space-between">

<img src="http://gips2.baidu.com/it/u=1674525583,3037683813&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024" style="width:50px;height:50px;border-radius:5px"/>

     <div style="display:inline-block;flex-grow:1;background-color:white;margin-left:5px;flex-grow: 1; 
  overflow: hidden;
  white-space: nowrap; 
  text-overflow: ellipsis;">
<div style="white-space: nowrap;
  overflow: hidden;text-overflow:ellipsis;font-size:20px;line-height:24px;font-weight:700;">text1111111111111111111111111111111111111111111111111111111</div>

<div style="white-space: nowrap;
  overflow: hidden;text-overflow:ellipsis;font-size:16px;line-height:20px;">text</div>
</div>
<div id="btn" onckick="openStore()" style="display:inline-block;background-color: #4CAF50;
    border: none;
    color: white;
    padding: 5px 10px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 20px 0px 10px;
    cursor: pointer;
    border-radius:10px;
">text</div>
</div>
          
        </div>

         <div id="adbg1234567" class="bg" style="background-color: #000;
        width: 100%;
        height: 100%;
        top: 0px;
display:block;
 
        position: fixed;
        opacity: 0.3;
        -webkit-opacity: 0.3;
        -moz-opacity: 0.3;
         ">sada</div>
             `;
   // var login = document.getElementById('login');
   // var bg = document.getElementById('bg');
   // function show() {
   //     login.style.display = "block";
   //     bg.style.display = "block";
   //     return false;
  //  }
 
    document.body.innerHTML += htmldata;

    requestad();
//document.body.innerHTML+= `<div id="adbg1234567" class="bg" style="background-color: #000;
 //       width: 100%;
 //       height: 100%;
  //      top: 0px;
//display:block;
//z-index:9999;
  //      position: fixed;
    //    opacity: 0.3;
     //   -webkit-opacity: 0.3;
    //    -moz-opacity: 0.3;
    //     ">sada</div>`;


}        

</script>
</head>
<body>

<h1>我的第一个 JavaScript 程序</h1>
<p id="demo">这是一个段落</p>

<button type="button" onclick="showad()">显示日期</button>

</body>
</html>